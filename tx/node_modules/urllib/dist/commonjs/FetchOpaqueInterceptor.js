"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.fetchOpaqueInterceptor = fetchOpaqueInterceptor;
const symbols_js_1 = __importDefault(require("./symbols.js"));
function fetchOpaqueInterceptor(opts) {
    const opaqueLocalStorage = opts?.opaqueLocalStorage;
    return (dispatch) => {
        return function redirectInterceptor(opts, handler) {
            const opaque = opaqueLocalStorage?.getStore();
            handler.opaque = opaque;
            return dispatch(opts, handler);
        };
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRmV0Y2hPcGFxdWVJbnRlcmNlcHRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9GZXRjaE9wYXF1ZUludGVyY2VwdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBK0JBLHdEQVNDO0FBdENELDhEQUFtQztBQTZCbkMsU0FBZ0Isc0JBQXNCLENBQUMsSUFBOEI7SUFDbkUsTUFBTSxrQkFBa0IsR0FBRyxJQUFJLEVBQUUsa0JBQWtCLENBQUM7SUFDcEQsT0FBTyxDQUFDLFFBQWdDLEVBQTBCLEVBQUU7UUFDbEUsT0FBTyxTQUFTLG1CQUFtQixDQUFDLElBQWdDLEVBQUUsT0FBb0M7WUFDeEcsTUFBTSxNQUFNLEdBQUcsa0JBQWtCLEVBQUUsUUFBUSxFQUFFLENBQUM7WUFDN0MsT0FBZSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7WUFDakMsT0FBTyxRQUFRLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ2pDLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQztBQUNKLENBQUMifQ==